<!--Avances del proyecto-->
<div class="container-fluid custom-container"> 
    <ng-container *ngIf="isAdmin">
        <div class="row navigation-state d-flex align-items-center">
            <div class="col">
                <a class="color-link" routerLink="/inicio/clientes">Clientes</a> / <a class="color-link" routerLink="/inicio/proyectos" [queryParams]="{cid: clienteId, nombre: nombreCliente}">{{nombreCliente}}</a> / {{title}}
            </div>
        </div>
    </ng-container>
    
    <!-- <ng-container *ngIf="isAdmin"> -->
        <div class="row mb-4">
            <div class="col">
                <form #form="ngForm" class="p-0x">
                    <div class="modal-tam">
                        <input type="file" #dropFile accept=".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.dwg" (change)="detectFiles($event)" multiple hidden />
                        <div class="container-fluid">                          
                            <div class="row mt-2">
                                <div class="col">
                                    <div class="text-center" [ngClass]="textFileUploads.length > 1 ? 'upload-multiple' : 'border-drop'" (drop)="drop($event)" (dragover)="allowDrop($event)" (change)="drop($event)">
                                        <ng-container *ngIf="textFileUploads.length > 0; else singleUpload">                                            
                                            <ng-container *ngFor="let file of textFileUploads">
                                                <div class="text-file w-100">{{file.name}}</div>                                                
                                            </ng-container>
                                        </ng-container>
                                        <ng-template #singleUpload>
                                            <img alt="" [src]="fondoUrl" class="image-drop" *ngIf="fondoUrl" />
                                            <label *ngIf="!fondoUrl">Arrastre los archivos aqu√≠</label>
                                        </ng-template>                                        
                                    </div>                           
                                </div>                       
                            </div>
                            <div class="row mt-3 align-middle">
                                <div class="col">
                                    <button (click)="selectFile()" class="btn btn-outline-info" [disabled]="spinner">                        
                                        <label class="ml-2">Seleccionar</label>
                                    </button>
                                </div>
                                <div class="col text-right">
                                    <button type="Submit" class="btn btn-outline-info mx-20x" color="primary" (click)="guardar()" [disabled]="!form.valid || spinner">Guardar</button>                          
                                </div>
                            </div>                             
                        </div>
                    </div>
                </form>
            </div>
        </div>
    <!-- </ng-container>     -->

    <div class="row align-items-center borde-files mb-1" *ngFor="let fileUpload of fileUploads" style="background: #ffffff">
        <div class="col-1" >
            <ng-container *ngIf="fileUpload.tipo == 'pdf'">
                <img src="/assets/images/pdf.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'doc'">
                <img src="/assets/images/doc.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'docx'">
                <img src="/assets/images/doc.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'xls'">
                <img src="/assets/images/xls.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'xlsx'">
                <img src="/assets/images/xls.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'ppt'">
                <img src="/assets/images/ppt.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'pptx'">
                <img src="/assets/images/ppt.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'dwg'">
                <img src="/assets/images/dwg.png" alt="Imagen">
            </ng-container>
            <ng-container *ngIf="fileUpload.tipo == 'imagen'">
                <img src="/assets/images/img2.png" alt="Imagen">
            </ng-container>
            <!-- <img src="/assets/images/img2.png" alt="Imagen"></a> -->
        </div>
        <div class="col">        
            <div class="color-link" (click)="openUrl(fileUpload.url, fileUpload.tipo, fileUpload.file_id)">{{fileUpload.nombre}}</div>        
            <div class="fecha-file">{{fileUpload.fecha}}</div>
        </div>
        <ng-container *ngIf="!procesando && isAdmin">
            <div class="col-1 d-flex justify-content-center" *ngIf="!eliminar">            
                <img src="/assets/images/ei-delete.png" alt="" class="img-avance" (click)="onPreEliminar()">            
            </div>
            <div class="col-2 d-flex justify-content-center" *ngIf="eliminar">                  
                <button class="btn btn-outline-dark btn-sm mr-1" (click)="onCancelar()">Cancelar</button>
                <button class="btn btn-outline-danger btn-sm" (click)="onEliminar(fileUpload.file_id)">Eliminar</button>
            </div>
        </ng-container>        
    </div>  
    <div class="loading-indicator" *ngIf="spinner"> 
        <div class="loader"></div>    
    </div>        
  </div>  
  <!--Fin Avances del proyecto-->